{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/ultis/axios.js"],"sourcesContent":["// lib/axios.js\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\n// Debug log để kiểm tra env\r\n\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  },\r\n});\r\n\r\n// Request interceptor\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = typeof window !== 'undefined' ? sessionStorage.getItem('token') : null;\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Don't set Content-Type for FormData, let axios handle it automatically\r\n    if (config.data instanceof FormData) {\r\n      delete config.headers['Content-Type'];\r\n    }\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n    \r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      \r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n    }\r\n    \r\n    // Xử lý lỗi chung\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    if (error.response?.status === 403) {\r\n      if (typeof window !== 'undefined') {\r\n        window.location.href = '/not-found';\r\n      }\r\n    }\r\n    \r\n    if (error.response?.status === 500) {\r\n      console.error('Server Error:', error.response.data);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n\r\n// Export các method thường dùng\r\nexport const api = {\r\n  get: (url, config) => axiosInstance.get(url, config),\r\n  post: (url, data, config) => axiosInstance.post(url, data, config),\r\n  put: (url, data, config) => axiosInstance.put(url, data, config),\r\n  patch: (url, data, config) => axiosInstance.patch(url, data, config),\r\n  delete: (url, config) => axiosInstance.delete(url, config),\r\n  \r\n  // Review API methods\r\n  reviews: {\r\n    // Create a new review\r\n    create: (reviewData) => axiosInstance.post('/reviews', reviewData),\r\n    \r\n    // Get all reviews\r\n    getAll: () => axiosInstance.get('/reviews'),\r\n    \r\n    // Get reviews for a specific product\r\n    getByProduct: (productId) => axiosInstance.get(`/reviews/product/${productId}`),\r\n    \r\n    // Get unreviewed products for a user\r\n    getUnreviewed: (productId) => axiosInstance.get(`/reviews/unreviewed/${productId}`),\r\n    \r\n    // Update a review\r\n    update: (reviewId, reviewData) => axiosInstance.put(`/reviews/${reviewId}`, reviewData),\r\n    \r\n    // Delete a review\r\n    delete: (reviewId) => axiosInstance.delete(`/reviews/${reviewId}`),\r\n  },\r\n};\r\n\r\n// Utility functions cho các trường hợp đặc biệt\r\nexport const apiUtils = {\r\n  // Upload file\r\n  uploadFile: (url, file, onUploadProgress) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    return axiosInstance.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress,\r\n    });\r\n  },\r\n  \r\n  // Download file\r\n  downloadFile: async (url, filename) => {\r\n    try {\r\n      const response = await axiosInstance.get(url, {\r\n        responseType: 'blob',\r\n      });\r\n      \r\n      const blob = new Blob([response.data]);\r\n      const downloadUrl = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = downloadUrl;\r\n      link.download = filename;\r\n      link.click();\r\n      window.URL.revokeObjectURL(downloadUrl);\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Create review\r\n  createReview: async (reviewData) => {\r\n    try {\r\n      const response = await axiosInstance.post('/reviews', reviewData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Create review failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Custom hooks cho React components\r\nexport const useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const request = async (apiCall) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await apiCall();\r\n      return response.data;\r\n    } catch (err) {\r\n      setError(err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return { request, loading, error };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/src/lib/timeline.ts"],"sourcesContent":["export function getSpanDays(viewMode: 'Days'|'Weeks'|'Months'|'Quarters', start: Date): number {\r\n  switch (viewMode) {\r\n    case 'Days': return 7;\r\n    case 'Weeks': return 7;\r\n    case 'Months': return daysInMonthUTC(start);\r\n    case 'Quarters': return isLeapYearUTC(start.getUTCFullYear()) ? 366 : 365; // show whole year segmented by quarters\r\n    default: return 7;\r\n  }\r\n}\r\n\r\nexport function getPeriodStart(viewMode: 'Days'|'Weeks'|'Months'|'Quarters', date: Date): Date {\r\n  const d = new Date(date);\r\n  const strip = (x: Date) => { const t = new Date(x); t.setUTCHours(0,0,0,0); return t; };\r\n  switch (viewMode) {\r\n    case 'Days':\r\n    case 'Weeks': return getStartOfWeekUTC(strip(d));\r\n    case 'Months': return new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth(), 1));\r\n    case 'Quarters': return new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    default: return getStartOfWeekUTC(strip(d));\r\n  }\r\n}\r\n\r\nexport function getStartOfWeekUTC(date: Date): Date {\r\n  const d = new Date(date);\r\n  d.setUTCHours(0,0,0,0);\r\n  const day = d.getUTCDay();\r\n  const diff = (day + 6) % 7;\r\n  d.setUTCDate(d.getUTCDate() - diff);\r\n  return d;\r\n}\r\n\r\nexport function stripTimeUTC(date: Date) {\r\n  const d = new Date(date);\r\n  d.setUTCHours(0,0,0,0);\r\n  return d;\r\n}\r\n\r\nexport function addDays(date: Date, days: number) {\r\n  const d = new Date(date);\r\n  d.setUTCDate(d.getUTCDate() + days);\r\n  return d;\r\n}\r\n\r\nfunction daysInMonthUTC(date: Date): number {\r\n  const y = date.getUTCFullYear();\r\n  const m = date.getUTCMonth();\r\n  return new Date(Date.UTC(y, m + 1, 0)).getUTCDate();\r\n}\r\n\r\nfunction daysInQuarterUTC(date: Date): number { // kept for potential future use\r\n  const qStartMonth = Math.floor(date.getUTCMonth() / 3) * 3;\r\n  const start = new Date(Date.UTC(date.getUTCFullYear(), qStartMonth, 1));\r\n  const end = new Date(Date.UTC(date.getUTCFullYear(), qStartMonth + 3, 0));\r\n  return (stripTimeUTC(end).getTime() - stripTimeUTC(start).getTime()) / (24*60*60*1000) + 1;\r\n}\r\n\r\nfunction isLeapYearUTC(year: number): boolean {\r\n  return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;AAAO,SAAS,YAAY,QAA4C,EAAE,KAAW;IACnF,OAAQ;QACN,KAAK;YAAQ,OAAO;QACpB,KAAK;YAAS,OAAO;QACrB,KAAK;YAAU,OAAO,eAAe;QACrC,KAAK;YAAY,OAAO,cAAc,MAAM,cAAc,MAAM,MAAM,KAAK,wCAAwC;QACnH;YAAS,OAAO;IAClB;AACF;AAEO,SAAS,eAAe,QAA4C,EAAE,IAAU;IACrF,MAAM,IAAI,IAAI,KAAK;IACnB,MAAM,QAAQ,CAAC;QAAc,MAAM,IAAI,IAAI,KAAK;QAAI,EAAE,WAAW,CAAC,GAAE,GAAE,GAAE;QAAI,OAAO;IAAG;IACtF,OAAQ;QACN,KAAK;QACL,KAAK;YAAS,OAAO,kBAAkB,MAAM;QAC7C,KAAK;YAAU,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,EAAE,cAAc,IAAI,EAAE,WAAW,IAAI;QAC7E,KAAK;YAAY,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,EAAE,cAAc,IAAI,GAAG;QACjE;YAAS,OAAO,kBAAkB,MAAM;IAC1C;AACF;AAEO,SAAS,kBAAkB,IAAU;IAC1C,MAAM,IAAI,IAAI,KAAK;IACnB,EAAE,WAAW,CAAC,GAAE,GAAE,GAAE;IACpB,MAAM,MAAM,EAAE,SAAS;IACvB,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI;IACzB,EAAE,UAAU,CAAC,EAAE,UAAU,KAAK;IAC9B,OAAO;AACT;AAEO,SAAS,aAAa,IAAU;IACrC,MAAM,IAAI,IAAI,KAAK;IACnB,EAAE,WAAW,CAAC,GAAE,GAAE,GAAE;IACpB,OAAO;AACT;AAEO,SAAS,QAAQ,IAAU,EAAE,IAAY;IAC9C,MAAM,IAAI,IAAI,KAAK;IACnB,EAAE,UAAU,CAAC,EAAE,UAAU,KAAK;IAC9B,OAAO;AACT;AAEA,SAAS,eAAe,IAAU;IAChC,MAAM,IAAI,KAAK,cAAc;IAC7B,MAAM,IAAI,KAAK,WAAW;IAC1B,OAAO,IAAI,KAAK,KAAK,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,UAAU;AACnD;AAEA,SAAS,iBAAiB,IAAU;IAClC,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,WAAW,KAAK,KAAK;IACzD,MAAM,QAAQ,IAAI,KAAK,KAAK,GAAG,CAAC,KAAK,cAAc,IAAI,aAAa;IACpE,MAAM,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC,KAAK,cAAc,IAAI,cAAc,GAAG;IACtE,OAAO,CAAC,aAAa,KAAK,OAAO,KAAK,aAAa,OAAO,OAAO,EAAE,IAAI,CAAC,KAAG,KAAG,KAAG,IAAI,IAAI;AAC3F;AAEA,SAAS,cAAc,IAAY;IACjC,OAAO,AAAC,OAAO,MAAM,KAAK,OAAO,QAAQ,KAAO,OAAO,QAAQ;AACjE","debugId":null}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/src/components/ResponsiveSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport axiosInstance from \"../../ultis/axios\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"Dashboard\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 22 21\">\n      <path d=\"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z\"/>\n      <path d=\"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z\"/>\n    </svg>\n  )},\n  { href: \"/\", label: \"Dự án\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n      <path d=\"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z\"/>\n    </svg>\n  )},\n  { href: \"/myprofile\", label: \"Users\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 18\">\n      <path d=\"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z\"/>\n    </svg>\n  )},\n];\n\nexport default function ResponsiveSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [open, setOpen] = useState(false);\n  const [me, setMe] = useState<{ full_name?: string; email?: string; avatar?: string } | null>(null);\n\n  useEffect(() => {\n    setOpen(false);\n  }, [pathname]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const token = typeof window !== 'undefined' ? (sessionStorage.getItem('token') || localStorage.getItem('token')) : null;\n        if (!token) return;\n        const res = await axiosInstance.get('/api/users/me');\n        setMe(res.data || null);\n      } catch {\n        // silently ignore\n      }\n    })();\n  }, []);\n\n  const onLogout = () => {\n    if (typeof window !== 'undefined') {\n      sessionStorage.removeItem('token');\n      localStorage.removeItem('token');\n    }\n    router.replace('/login');\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        aria-controls=\"default-sidebar\"\n        aria-expanded={open}\n        onClick={() => setOpen((v) => !v)}\n        className=\"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200\"\n      >\n        <span className=\"sr-only\">Open sidebar</span>\n        <svg className=\"w-6 h-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path clipRule=\"evenodd\" fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z\"></path>\n        </svg>\n      </button>\n\n      <aside\n        id=\"default-sidebar\"\n        className={`fixed top-0 left-0 z-40 w-64 h-screen transition-transform ${open ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0`}\n        aria-label=\"Sidebar\"\n      >\n        <div className=\"h-full px-3 py-4 overflow-y-auto bg-gray-50\">\n          {me ? (\n            <div className=\"mb-4 flex items-center gap-3 p-3 rounded-lg bg-white border\" style={{borderColor: 'var(--border)'}}>\n              <div className=\"h-10 w-10 rounded-full flex items-center justify-center overflow-hidden bg-gray-100\">\n                {me.avatar ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img src={me.avatar} alt=\"avatar\" className=\"h-full w-full object-cover\" />\n                ) : (\n                  <span className=\"text-sm font-semibold text-gray-600\">{(me.full_name?.[0] || me.email?.[0] || 'U').toUpperCase()}</span>\n                )}\n              </div>\n              <div className=\"truncate\">\n                <div className=\"text-sm font-medium truncate\">{me.full_name || 'User'}</div>\n                <div className=\"text-xs text-gray-500 truncate\">{me.email || ''}</div>\n              </div>\n            </div>\n          ) : null}\n\n          <ul className=\"space-y-2 font-medium\">\n            {navItems.map((item) => {\n              const active = pathname === item.href;\n              return (\n                <li key={`${item.href}-${item.label}`}>\n                  <Link\n                    href={item.href}\n                    className={`flex items-center p-2 rounded-lg hover:bg-gray-100 group ${active ? 'bg-gray-100 text-gray-900' : 'text-gray-900'}`}\n                  >\n                    <span className=\"text-gray-500 group-hover:text-gray-900\">{item.icon}</span>\n                    <span className=\"ms-3\">{item.label}</span>\n                  </Link>\n                </li>\n              );\n            })}\n            <li>\n              <button\n                onClick={onLogout}\n                className=\"w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-100 text-gray-900\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 18 16\">\n                  <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3\"/>\n                </svg>\n                <span className=\"ms-3\">Đăng xuất</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </aside>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 712, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/src/app/projects/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport axiosInstance from \"../../../../ultis/axios\";\nimport { getSpanDays, getPeriodStart, getStartOfWeekUTC, stripTimeUTC, addDays } from \"@/lib/timeline\";\nimport ResponsiveSidebar from \"@/components/ResponsiveSidebar\";\n\ntype Milestone = {\n  _id: string;\n  title: string;\n  start_date?: string;\n  deadline?: string;\n  status?: string;\n  description?: string;\n  createdAt?: string;\n};\n\nexport default function ProjectDetailPage() {\n  const router = useRouter();\n  const params = useParams();\n  const projectId = Array.isArray(params?.id) ? params?.id[0] : (params?.id as string);\n  const [milestones, setMilestones] = useState<Milestone[] | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!projectId) return;\n    (async () => {\n      try {\n        const res = await axiosInstance.get(`/api/projects/${projectId}/milestones`);\n        console.log(res.data);\n        setMilestones(Array.isArray(res.data) ? res.data : []);\n      } catch (e: any) {\n        setError(e?.response?.data?.message || 'Không thể tải milestone');\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [projectId]);\n\n  return (\n    <div className=\"min-h-screen bg-[var(--background)]\">\n      <ResponsiveSidebar />\n      <main className=\"p-4 md:p-6 md:ml-64\">\n        <div className=\"mx-auto w-full max-w-6xl\">\n          <div className=\"mb-6 md:mb-8 flex items-center justify-between\">\n            <h1 className=\"text-2xl md:text-3xl font-semibold tracking-tight\" style={{color:'var(--primary)'}}>Milestones</h1>\n            <div className=\"flex items-center gap-2\">\n              <button onClick={() => router.push(`/projects/${projectId}/milestones/new`)} className=\"btn-primary rounded-lg px-4 py-2\">+ Thêm Milestone</button>\n              <button onClick={() => router.back()} className=\"px-3 py-2 rounded-lg text-sm hover:bg-[var(--muted)]\" style={{border:'1px solid var(--border)'}}>Quay lại</button>\n            </div>\n          </div>\n\n          {loading ? (\n            <div>Đang tải...</div>\n          ) : error ? (\n            <div className=\"text-red-600\">{error}</div>\n          ) : (\n            <Timeline milestones={milestones || []} projectId={projectId} onLocalUpdate={setMilestones as any} />\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nfunction Timeline({ milestones, projectId, onLocalUpdate }: { milestones: Milestone[]; projectId: string; onLocalUpdate: any }) {\n  const [weekStart, setWeekStart] = useState<Date>(getStartOfWeekUTC(new Date()));\n  const [viewMode, setViewMode] = useState<'Days' | 'Weeks' | 'Months' | 'Quarters'>('Days');\n  const spanDays = getSpanDays(viewMode, weekStart);\n  const [autoFit, setAutoFit] = useState<boolean>(true);\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const dragState = useRef<{ startX: number; startDate: Date; dragging: boolean }>({ startX: 0, startDate: new Date(), dragging: false });\n  if (!milestones || milestones.length === 0) {\n    return <div className=\"opacity-70\">Chưa có milestone nào.</div>;\n  }\n\n  const periodStart = getPeriodStart(viewMode, weekStart);\n  const isQuarters = viewMode === 'Quarters';\n  const days = Array.from({ length: spanDays }, (_, i) => new Date(periodStart.getTime() + i * 24 * 60 * 60 * 1000));\n  const monthName = periodStart.toLocaleDateString('vi-VN', { month: 'long', year: 'numeric' });\n  const today = stripTimeUTC(new Date());\n\n  const getX = (dateStr?: string) => {\n    if (!dateStr) return 0;\n    const d = new Date(dateStr);\n    const diff = Math.floor((stripTimeUTC(d).getTime() - stripTimeUTC(periodStart).getTime()) / (24 * 60 * 60 * 1000));\n    return Math.max(0, Math.min(spanDays - 1, diff));\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex items-end justify-between mb-2\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"text-lg font-semibold\" style={{color:'var(--primary)'}}>{monthName.charAt(0).toUpperCase() + monthName.slice(1)}</div>\n          <div className=\"text-sm opacity-70\">{days[0].toLocaleDateString('vi-VN')} – {days[6].toLocaleDateString('vi-VN')}</div>\n        </div>\n        <div className=\"flex items-center gap-4 text-sm\">\n        <div className=\"flex items-center gap-2 mr-4\">\n            <select value={viewMode} onChange={(e) => setViewMode(e.target.value as any)} className=\"ml-2 px-2 py-1 rounded border text-sm\" style={{borderColor:'var(--border)'}}>\n              <option>Days</option>\n              <option>Weeks</option>\n              <option>Months</option>\n              <option>Quarters</option>\n            </select>\n            <label className=\"ml-2 flex items-center gap-1 text-sm\">\n              <input type=\"checkbox\" checked={autoFit} onChange={(e)=>setAutoFit(e.target.checked)} /> Auto Fit\n            </label>\n          </div>\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-amber-400 inline-block\" /> Working on it</div>\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-green-500 inline-block\" /> Done</div>\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-red-500 inline-block\" /> Stuck</div>\n        </div>\n      </div>\n      {/* Top header rows for Quarters/Years: Year then quarters */}\n      {viewMode === 'Quarters' ? (\n        <>\n        <div className=\"text-center font-semibold mb-1\" style={{color:'var(--primary)'}}>\n          {periodStart.getUTCFullYear()}\n        </div>\n        <div className=\"grid grid-cols-4 text-center text-xs md:text-sm font-medium mb-1 opacity-90\">\n          {['Q1','Q2','Q3','Q4'].map((q, idx) => (\n            <div key={q} className={`${(Math.floor((periodStart.getUTCMonth())/3))===idx ? 'bg-blue-600 text-white rounded-full mx-auto px-3 py-1' : ''}`}>{q}</div>\n          ))}\n        </div>\n        </>\n      ) : null}\n\n      {!isQuarters ? (\n        <div className=\"grid\" style={{gridTemplateColumns: `repeat(${spanDays}, minmax(0,1fr))`}}>\n          {days.map((d, i) => {\n            const isToday = stripTimeUTC(d).getTime() === stripTimeUTC(today).getTime();\n            const label = viewMode === 'Days' || viewMode === 'Weeks'\n              ? `${d.toLocaleDateString('en-US', { weekday: 'short' })} ${d.getDate()}`\n              : (d.getDate() === 1 ? d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : `${d.getDate()}`);\n            return (\n              <div key={i} className=\"text-center font-medium text-xs md:text-sm mb-2 opacity-90\">\n                <span className={`${isToday ? 'bg-blue-600 text-white px-3 py-1 rounded-full' : ''}`}>{label}</span>\n              </div>\n            );\n          })}\n        </div>\n      ) : null}\n      <div\n        ref={containerRef}\n        className=\"relative border rounded-lg cursor-grab active:cursor-grabbing select-none\"\n        title=\"Kéo để di chuyển timeline\"\n        onMouseDown={(e) => { dragState.current = { startX: e.clientX, startDate: periodStart, dragging: true }; }}\n        onMouseUp={() => { dragState.current.dragging = false; }}\n        onMouseLeave={() => { dragState.current.dragging = false; }}\n        onMouseMove={(e) => {\n          if (!dragState.current.dragging || !containerRef.current) return;\n          const colCount = isQuarters ? 4 : spanDays;\n          const totalWidth = containerRef.current.scrollWidth || containerRef.current.getBoundingClientRect().width;\n          const pxPerDay = totalWidth / colCount;\n          if (!pxPerDay || pxPerDay === Infinity) return;\n          const deltaPx = e.clientX - dragState.current.startX;\n          const stepUnit = (isQuarters ? spanDays / 4 : 1);\n          const threshold = Math.max(10, pxPerDay * 0.2); // at least 10px or 20% of a day\n          if (Math.abs(deltaPx) >= threshold) {\n            const step = deltaPx < 0 ? stepUnit : -stepUnit; // drag left -> go forward, right -> go back\n            const newStart = addDays(dragState.current.startDate, step);\n            setWeekStart(newStart);\n            dragState.current.startX = e.clientX;\n            dragState.current.startDate = newStart;\n          }\n        }}\n        onWheel={(e) => {\n          if (!containerRef.current) return;\n          if (e.shiftKey) {\n            containerRef.current.scrollLeft += e.deltaY;\n          }\n        }}\n        style={{borderColor:'var(--border)', overflowX:'auto', overflowY:'hidden'}}\n      >\n        <div className=\"relative\" style={{ width: `${(isQuarters ? 4 : spanDays) * 160}px` }}>\n        {/* Weekend shading */}\n        {!isQuarters ? (\n          <div className={`absolute inset-0 grid pointer-events-none`} style={{gridTemplateColumns: `repeat(${spanDays}, minmax(0, 1fr))`}}>\n            {days.map((_, i) => (\n              <div key={i} className={`${(i % 7 === 5 || i % 7 === 6) ? 'bg-gray-50' : ''}`} />\n            ))}\n          </div>\n        ) : null}\n\n        <div className=\"relative\" style={{display:'grid', gridTemplateColumns: `repeat(${isQuarters ? 4 : spanDays}, minmax(0,1fr))`, height: autoFit ? `${Math.max(180, (milestones.length*44)+40)}px` : '260px'}}>\n          {(isQuarters ? Array.from({length:4}) : days).map((_, i) => (\n            <div key={i} className=\"relative border-r last:border-r-0\" style={{borderColor:'var(--border)'}}>\n              <div className=\"absolute top-0 left-0 right-0 h-px bg-[var(--border)]\" />\n            </div>\n          ))}\n        </div>\n\n        {/* Today line */}\n        {!isQuarters ? <TodayLine startOfWeek={periodStart} today={today} /> : null}\n\n        <div className=\"absolute inset-0 space-y-2\">\n          {milestones.map((m) => {\n            const startCandidate = m.start_date || m.createdAt || m.deadline;\n            const endCandidate = m.deadline || m.start_date;\n            let styleObj: any;\n            if (isQuarters) {\n              const year = periodStart.getUTCFullYear();\n              const qIndex = (d: Date) => Math.max(0, Math.min(3, d.getUTCFullYear() < year ? 0 : d.getUTCFullYear() > year ? 3 : Math.floor(d.getUTCMonth()/3)));\n              const sIdx = qIndex(new Date(startCandidate as string));\n              const eIdx = qIndex(new Date(endCandidate as string || startCandidate as string));\n              const spanQ = Math.max(1, eIdx - sIdx + 1);\n              styleObj = { marginLeft: `${(sIdx/4)*100}%`, width: `${(spanQ/4)*100}%` };\n            } else {\n              const start = getX(startCandidate);\n              const end = getX(endCandidate);\n              const span = Math.max(1, end - start + 1);\n              styleObj = { marginLeft: `calc(${start}/${spanDays}*100%)`, width: `calc(${span}/${spanDays}*100%)` };\n            }\n            const color = m.status === 'Completed' ? 'bg-gray-300 text-gray-800' : m.status === 'Overdue' ? 'bg-red-500 text-white' : 'bg-gray-300 text-gray-800';\n            const dateLabel = [m.start_date, m.deadline].filter(Boolean).map(d=>new Date(d as string).toLocaleDateString('vi-VN')).join(' → ');\n            return (\n              <div key={m._id} className=\"group relative flex items-center py-2\" style={styleObj} title={`${m.title} (${dateLabel})`}>\n                <div className={`h-8 w-full rounded-md text-sm px-3 flex items-center justify-between gap-2 ${color}`} style={{overflow:'hidden'}}>\n                  <span className=\"truncate\">{m.title}</span>\n                </div>\n                {/* date shift disabled by requirement: milestone dates are fixed */}\n              </div>\n            );\n          })}\n        </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TodayLine({ startOfWeek, today }: { startOfWeek: Date; today: Date }) {\n  const dayIdx = Math.max(0, Math.min(6, Math.floor((stripTimeUTC(today).getTime() - stripTimeUTC(startOfWeek).getTime()) / (24*60*60*1000))));\n  const left = `calc(${dayIdx}/7*100%)`;\n  const isThisWeek = today >= startOfWeek && today <= new Date(startOfWeek.getTime() + 6*24*60*60*1000);\n  if (!isThisWeek) return null;\n  return (\n    <div className=\"absolute inset-0 pointer-events-none\">\n      <div className=\"h-full border-l border-blue-500\" style={{marginLeft:left}} />\n      <div className=\"relative\" style={{marginLeft:left}}>\n        <span className=\"absolute -top-2 -ml-1 h-2 w-2 rounded-full bg-blue-500\" />\n      </div>\n    </div>\n  );\n}\n\n// helper functions are imported above\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}