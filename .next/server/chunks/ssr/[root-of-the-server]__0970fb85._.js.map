{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///E:/SEP/SEP490_G94_FALL25_FrontEnd/ultis/axios.js"],"sourcesContent":["// lib/axios.js\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\n// Debug log để kiểm tra env\r\n\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  },\r\n});\r\n\r\n// Request interceptor\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = typeof window !== 'undefined' ? sessionStorage.getItem('token') : null;\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Don't set Content-Type for FormData, let axios handle it automatically\r\n    if (config.data instanceof FormData) {\r\n      delete config.headers['Content-Type'];\r\n    }\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n    \r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      \r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n    }\r\n    \r\n    // Xử lý lỗi chung\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    if (error.response?.status === 403) {\r\n      if (typeof window !== 'undefined') {\r\n        window.location.href = '/not-found';\r\n      }\r\n    }\r\n    \r\n    if (error.response?.status === 500) {\r\n      console.error('Server Error:', error.response.data);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n\r\n// Export các method thường dùng\r\nexport const api = {\r\n  get: (url, config) => axiosInstance.get(url, config),\r\n  post: (url, data, config) => axiosInstance.post(url, data, config),\r\n  put: (url, data, config) => axiosInstance.put(url, data, config),\r\n  patch: (url, data, config) => axiosInstance.patch(url, data, config),\r\n  delete: (url, config) => axiosInstance.delete(url, config),\r\n  \r\n  // Review API methods\r\n  reviews: {\r\n    // Create a new review\r\n    create: (reviewData) => axiosInstance.post('/reviews', reviewData),\r\n    \r\n    // Get all reviews\r\n    getAll: () => axiosInstance.get('/reviews'),\r\n    \r\n    // Get reviews for a specific product\r\n    getByProduct: (productId) => axiosInstance.get(`/reviews/product/${productId}`),\r\n    \r\n    // Get unreviewed products for a user\r\n    getUnreviewed: (productId) => axiosInstance.get(`/reviews/unreviewed/${productId}`),\r\n    \r\n    // Update a review\r\n    update: (reviewId, reviewData) => axiosInstance.put(`/reviews/${reviewId}`, reviewData),\r\n    \r\n    // Delete a review\r\n    delete: (reviewId) => axiosInstance.delete(`/reviews/${reviewId}`),\r\n  },\r\n};\r\n\r\n// Utility functions cho các trường hợp đặc biệt\r\nexport const apiUtils = {\r\n  // Upload file\r\n  uploadFile: (url, file, onUploadProgress) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    return axiosInstance.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress,\r\n    });\r\n  },\r\n  \r\n  // Download file\r\n  downloadFile: async (url, filename) => {\r\n    try {\r\n      const response = await axiosInstance.get(url, {\r\n        responseType: 'blob',\r\n      });\r\n      \r\n      const blob = new Blob([response.data]);\r\n      const downloadUrl = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = downloadUrl;\r\n      link.download = filename;\r\n      link.click();\r\n      window.URL.revokeObjectURL(downloadUrl);\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Create review\r\n  createReview: async (reviewData) => {\r\n    try {\r\n      const response = await axiosInstance.post('/reviews', reviewData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Create review failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Custom hooks cho React components\r\nexport const useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const request = async (apiCall) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await apiCall();\r\n      return response.data;\r\n    } catch (err) {\r\n      setError(err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return { request, loading, error };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///E:/SEP/SEP490_G94_FALL25_FrontEnd/src/components/ResponsiveSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport axiosInstance from \"../../ultis/axios\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"Dashboard\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 22 21\">\n      <path d=\"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z\"/>\n      <path d=\"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z\"/>\n    </svg>\n  )},\n  { href: \"/\", label: \"Dự án\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n      <path d=\"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z\"/>\n    </svg>\n  )},\n  { href: \"/myprofile\", label: \"Users\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 18\">\n      <path d=\"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z\"/>\n    </svg>\n  )},\n];\n\nexport default function ResponsiveSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [open, setOpen] = useState(false);\n  const [me, setMe] = useState<{ full_name?: string; email?: string; avatar?: string } | null>(null);\n\n  useEffect(() => {\n    setOpen(false);\n  }, [pathname]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const token = typeof window !== 'undefined' ? (sessionStorage.getItem('token') || localStorage.getItem('token')) : null;\n        if (!token) return;\n        const res = await axiosInstance.get('/api/users/me');\n        setMe(res.data || null);\n      } catch {\n        // silently ignore\n      }\n    })();\n  }, []);\n\n  const onLogout = () => {\n    if (typeof window !== 'undefined') {\n      sessionStorage.removeItem('token');\n      localStorage.removeItem('token');\n    }\n    router.replace('/login');\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        aria-controls=\"default-sidebar\"\n        aria-expanded={open}\n        onClick={() => setOpen((v) => !v)}\n        className=\"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200\"\n      >\n        <span className=\"sr-only\">Open sidebar</span>\n        <svg className=\"w-6 h-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path clipRule=\"evenodd\" fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z\"></path>\n        </svg>\n      </button>\n\n      <aside\n        id=\"default-sidebar\"\n        className={`fixed top-0 left-0 z-40 w-64 h-screen transition-transform ${open ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0`}\n        aria-label=\"Sidebar\"\n      >\n        <div className=\"h-full px-3 py-4 overflow-y-auto glass\">\n          {me ? (\n            <div className=\"mb-4 flex items-center gap-3 p-3 card\">\n              <div className=\"h-10 w-10 rounded-full flex items-center justify-center overflow-hidden bg-gray-100\">\n                {me.avatar ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img src={me.avatar} alt=\"avatar\" className=\"h-full w-full object-cover\" />\n                ) : (\n                  <span className=\"text-sm font-semibold text-gray-600\">{(me.full_name?.[0] || me.email?.[0] || 'U').toUpperCase()}</span>\n                )}\n              </div>\n              <div className=\"truncate\">\n                <div className=\"text-sm font-medium truncate\">{me.full_name || 'User'}</div>\n                <div className=\"text-xs text-gray-500 truncate\">{me.email || ''}</div>\n              </div>\n            </div>\n          ) : null}\n\n          <ul className=\"space-y-2 font-medium\">\n            {navItems.map((item) => {\n              const active = pathname === item.href;\n              return (\n                <li key={`${item.href}-${item.label}`}>\n                  <Link\n                    href={item.href}\n                    className={`flex items-center p-2 rounded-lg group border transition-colors ${active ? 'bg-[var(--muted)] border-[var(--border)] text-gray-900' : 'hover:bg-[var(--muted)] border-transparent text-gray-900'}`}\n                  >\n                    <span className=\"text-gray-500 group-hover:text-gray-900\">{item.icon}</span>\n                    <span className=\"ms-3\">{item.label}</span>\n                  </Link>\n                </li>\n              );\n            })}\n            <li>\n              <button\n                onClick={onLogout}\n                className=\"w-full text-left flex items-center p-2 rounded-lg border hover:bg-[var(--muted)] text-gray-900 transition-colors\"\n                style={{borderColor: 'var(--border)'}}\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 18 16\">\n                  <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3\"/>\n                </svg>\n                <span className=\"ms-3\">Đăng xuất</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </aside>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///E:/SEP/SEP490_G94_FALL25_FrontEnd/src/app/projects/%5Bid%5D/milestones/new/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport axiosInstance from \"../../../../../../ultis/axios\";\r\nimport ResponsiveSidebar from \"@/components/ResponsiveSidebar\";\r\n\r\ntype SuccessCriterion = {\r\n  title: string;\r\n  description: string;\r\n  status: \"pending\" | \"in-review\" | \"verified\" | \"rejected\";\r\n};\r\n\r\nexport default function NewMilestonePage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const projectId = Array.isArray(params?.id) ? params?.id[0] : (params?.id as string);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [deadline, setDeadline] = useState(\"\");\r\n  const [actualDate, setActualDate] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [notes, setNotes] = useState(\"\");\r\n  const [estimatedEffort, setEstimatedEffort] = useState<number>(0);\r\n  const [actualEffort, setActualEffort] = useState<number>(0);\r\n  const [duration, setDuration] = useState<number>(0);\r\n  const [tags, setTags] = useState<string>(\"\");\r\n  const [status, setStatus] = useState<string>(\"Planned\");\r\n  const [parentId, setParentId] = useState<string>(\"\");\r\n  const [parentOptions, setParentOptions] = useState<Array<{ _id: string; title: string }>>([]);\r\n  const [successCriteria, setSuccessCriteria] = useState<SuccessCriterion[]>([]);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!projectId) return;\r\n    (async () => {\r\n      try {\r\n        const res = await axiosInstance.get(`/api/projects/${projectId}/milestones`);\r\n        const opts = (Array.isArray(res.data) ? res.data : []).map((m: any) => ({ _id: m._id, title: m.title }));\r\n        setParentOptions(opts);\r\n      } catch (_) {\r\n        // ignore: optional enhancement\r\n      }\r\n    })();\r\n  }, [projectId]);\r\n\r\n  const validationMessage = useMemo(() => {\r\n    if (!title.trim()) return \"Tiêu đề là bắt buộc\";\r\n    if (!startDate) return \"Vui lòng chọn ngày bắt đầu\";\r\n    if (!deadline) return \"Vui lòng chọn hạn\";\r\n    const s = new Date(startDate);\r\n    const d = new Date(deadline);\r\n    if (isNaN(s.getTime()) || isNaN(d.getTime())) return \"Ngày không hợp lệ\";\r\n    if (s.getTime() > d.getTime()) return \"Ngày bắt đầu phải trước hoặc bằng hạn\";\r\n    return \"\";\r\n  }, [title, startDate, deadline]);\r\n\r\n  const addSuccessCriterion = () => {\r\n    setSuccessCriteria([...successCriteria, { title: \"\", description: \"\", status: \"pending\" }]);\r\n  };\r\n\r\n  const removeSuccessCriterion = (index: number) => {\r\n    setSuccessCriteria(successCriteria.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const updateSuccessCriterion = (index: number, field: keyof SuccessCriterion, value: string) => {\r\n    const updated = [...successCriteria];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n    setSuccessCriteria(updated);\r\n  };\r\n\r\n  const onSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      setSubmitting(true);\r\n      setError(null);\r\n      if (validationMessage) {\r\n        setError(validationMessage);\r\n        return;\r\n      }\r\n      const body: any = { \r\n        title, \r\n        code: code || undefined,\r\n        start_date: startDate, \r\n        deadline,\r\n        actual_date: actualDate || undefined,\r\n        description, \r\n        notes: notes || undefined,\r\n        estimated_effort: estimatedEffort || 0,\r\n        actual_effort: actualEffort || 0,\r\n        duration: duration || 0,\r\n        tags: tags ? tags.split(',').map(t => t.trim()).filter(Boolean) : [],\r\n        status,\r\n        success_criteria: successCriteria.filter(sc => sc.title.trim())\r\n      };\r\n      if (parentId) body.parent_id = parentId;\r\n      const res = await axiosInstance.post(`/api/projects/${projectId}/milestones`, body);\r\n      if (res.status === 201) {\r\n        router.replace(`/projects/${projectId}`);\r\n      }\r\n    } catch (e: any) {\r\n      setError(e?.response?.data?.message || 'Tạo milestone thất bại');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[var(--background)]\">\r\n      <ResponsiveSidebar />\r\n      <main className=\"p-4 md:p-6 md:ml-64\">\r\n        <div className=\"mx-auto w-full max-w-3xl\">\r\n          <h1 className=\"text-2xl md:text-3xl font-semibold tracking-tight mb-4\" style={{color:'var(--primary)'}}>Thêm Milestone</h1>\r\n          <form onSubmit={onSubmit} className=\"card rounded-xl p-6 space-y-4\">\r\n            {error ? <div className=\"text-red-600 text-sm\">{error}</div> : null}\r\n            \r\n            {/* Basic Info Section */}\r\n            <div className=\"border-b pb-4\">\r\n              <h2 className=\"text-lg font-semibold mb-3\" style={{color:'var(--primary)'}}>Thông tin cơ bản</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"text-sm font-semibold\">Tiêu đề *</label>\r\n                  <input\r\n                    required\r\n                    value={title}\r\n                    onChange={(e) => setTitle(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"Ví dụ: Sprint 1\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm\">Mã Milestone</label>\r\n                  <input\r\n                    value={code}\r\n                    onChange={(e) => setCode(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"Ví dụ: MS-001\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">Tùy chọn. Mã định danh duy nhất.</div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm\">Trạng thái</label>\r\n                  <select\r\n                    value={status}\r\n                    onChange={(e) => setStatus(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2 bg-transparent\"\r\n                  >\r\n                    <option value=\"Planned\">Planned</option>\r\n                    <option value=\"In Progress\">In Progress</option>\r\n                    <option value=\"Completed\">Completed</option>\r\n                    <option value=\"Overdue\">Overdue</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"text-sm\">Thuộc milestone</label>\r\n                  <select\r\n                    value={parentId}\r\n                    onChange={(e) => setParentId(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2 bg-transparent\"\r\n                  >\r\n                    <option value=\"\">— Không —</option>\r\n                    {parentOptions.map((m) => (\r\n                      <option key={m._id} value={m._id}>{m.title}</option>\r\n                    ))}\r\n                  </select>\r\n                  <div className=\"text-xs opacity-70 mt-1\">Tùy chọn. Dùng để tạo cấu trúc cha/con.</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Timeline Section */}\r\n            <div className=\"border-b pb-4\">\r\n              <h2 className=\"text-lg font-semibold mb-3\" style={{color:'var(--primary)'}}>Thời gian</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm font-semibold\">Bắt đầu *</label>\r\n                  <input\r\n                    required\r\n                    type=\"date\"\r\n                    value={startDate}\r\n                    onChange={(e) => setStartDate(e.target.value)}\r\n                    className={`mt-1 w-full border rounded-lg px-3 py-2 ${validationMessage && startDate && deadline && new Date(startDate) > new Date(deadline) ? 'border-red-500' : ''}`}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-semibold\">Hạn chót *</label>\r\n                  <input\r\n                    required\r\n                    type=\"date\"\r\n                    value={deadline}\r\n                    onChange={(e) => setDeadline(e.target.value)}\r\n                    className={`mt-1 w-full border rounded-lg px-3 py-2 ${validationMessage && startDate && deadline && new Date(startDate) > new Date(deadline) ? 'border-red-500' : ''}`}\r\n                  />\r\n                  {validationMessage && startDate && deadline && new Date(startDate) > new Date(deadline) ? (\r\n                    <div className=\"text-xs text-red-600 mt-1\">Ngày bắt đầu phải trước hoặc bằng hạn</div>\r\n                  ) : null}\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm\">Ngày hoàn thành thực tế</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={actualDate}\r\n                    onChange={(e) => setActualDate(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">Ngày hoàn thành milestone (nếu đã xong)</div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm\">Thời lượng (ngày)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    value={duration}\r\n                    onChange={(e) => setDuration(Number(e.target.value))}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"VD: 14\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">Thời lượng dự kiến</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Effort Section */}\r\n            <div className=\"border-b pb-4\">\r\n              <h2 className=\"text-lg font-semibold mb-3\" style={{color:'var(--primary)'}}>Công sức</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"text-sm\">Ước tính công sức (giờ)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    step=\"0.5\"\r\n                    value={estimatedEffort}\r\n                    onChange={(e) => setEstimatedEffort(Number(e.target.value))}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"VD: 80\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm\">Công sức thực tế (giờ)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    step=\"0.5\"\r\n                    value={actualEffort}\r\n                    onChange={(e) => setActualEffort(Number(e.target.value))}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"VD: 85\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Success Criteria Section */}\r\n            <div className=\"border-b pb-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2 className=\"text-lg font-semibold\" style={{color:'var(--primary)'}}>Tiêu chí thành công</h2>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={addSuccessCriterion}\r\n                  className=\"px-3 py-1 text-sm rounded-lg bg-[var(--primary)] text-white\"\r\n                >\r\n                  + Thêm tiêu chí\r\n                </button>\r\n              </div>\r\n              {successCriteria.length === 0 ? (\r\n                <div className=\"text-sm opacity-70 text-center py-4\">Chưa có tiêu chí nào. Nhấn \"Thêm tiêu chí\" để thêm.</div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {successCriteria.map((sc, idx) => (\r\n                    <div key={idx} className=\"border rounded-lg p-3 space-y-2\">\r\n                      <div className=\"flex items-start justify-between gap-2\">\r\n                        <input\r\n                          value={sc.title}\r\n                          onChange={(e) => updateSuccessCriterion(idx, \"title\", e.target.value)}\r\n                          className=\"flex-1 border rounded px-2 py-1 text-sm\"\r\n                          placeholder=\"Tiêu đề tiêu chí *\"\r\n                        />\r\n                        <select\r\n                          value={sc.status}\r\n                          onChange={(e) => updateSuccessCriterion(idx, \"status\", e.target.value)}\r\n                          className=\"border rounded px-2 py-1 text-sm bg-transparent\"\r\n                        >\r\n                          <option value=\"pending\">Pending</option>\r\n                          <option value=\"in-review\">In Review</option>\r\n                          <option value=\"verified\">Verified</option>\r\n                          <option value=\"rejected\">Rejected</option>\r\n                        </select>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => removeSuccessCriterion(idx)}\r\n                          className=\"text-red-600 hover:text-red-800 text-sm px-2\"\r\n                        >\r\n                          ✕\r\n                        </button>\r\n                      </div>\r\n                      <textarea\r\n                        value={sc.description}\r\n                        onChange={(e) => updateSuccessCriterion(idx, \"description\", e.target.value)}\r\n                        className=\"w-full border rounded px-2 py-1 text-sm\"\r\n                        rows={2}\r\n                        placeholder=\"Mô tả chi tiết tiêu chí...\"\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Description & Tags Section */}\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold mb-3\" style={{color:'var(--primary)'}}>Mô tả & Tags</h2>\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"text-sm\">Tags</label>\r\n                  <input\r\n                    value={tags}\r\n                    onChange={(e) => setTags(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    placeholder=\"Nhập các tag, cách nhau bởi dấu phẩy\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">VD: backend, api, critical</div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm\">Mô tả</label>\r\n                  <textarea\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    rows={3}\r\n                    placeholder=\"Mô tả tổng quan về milestone...\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">{description.length}/1000</div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-sm\">Ghi chú</label>\r\n                  <textarea\r\n                    value={notes}\r\n                    onChange={(e) => setNotes(e.target.value)}\r\n                    className=\"mt-1 w-full border rounded-lg px-3 py-2\"\r\n                    rows={3}\r\n                    placeholder=\"Ghi chú phạm vi, tiêu chí, rủi ro...\"\r\n                  />\r\n                  <div className=\"text-xs opacity-70 mt-1\">{notes.length}/1000</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 pt-2\">\r\n              <button type=\"button\" onClick={() => router.back()} className=\"px-4 py-2 rounded-lg\" style={{border:'1px solid var(--border)'}}>Hủy</button>\r\n              <button type=\"submit\" disabled={submitting || !!validationMessage} className=\"rounded-lg px-4 py-2 bg-[var(--primary)] text-white disabled:opacity-60\">\r\n                {submitting ? 'Đang tạo...' : 'Tạo milestone'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}