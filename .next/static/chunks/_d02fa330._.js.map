{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/ultis/axios.js"],"sourcesContent":["// lib/axios.js\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\n// Debug log để kiểm tra env\r\n\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  },\r\n});\r\n\r\n// Request interceptor\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = typeof window !== 'undefined' ? sessionStorage.getItem('token') : null;\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Don't set Content-Type for FormData, let axios handle it automatically\r\n    if (config.data instanceof FormData) {\r\n      delete config.headers['Content-Type'];\r\n    }\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n    \r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      \r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n    }\r\n    \r\n    // Xử lý lỗi chung\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    if (error.response?.status === 403) {\r\n      if (typeof window !== 'undefined') {\r\n        window.location.href = '/not-found';\r\n      }\r\n    }\r\n    \r\n    if (error.response?.status === 500) {\r\n      console.error('Server Error:', error.response.data);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n\r\n// Export các method thường dùng\r\nexport const api = {\r\n  get: (url, config) => axiosInstance.get(url, config),\r\n  post: (url, data, config) => axiosInstance.post(url, data, config),\r\n  put: (url, data, config) => axiosInstance.put(url, data, config),\r\n  patch: (url, data, config) => axiosInstance.patch(url, data, config),\r\n  delete: (url, config) => axiosInstance.delete(url, config),\r\n  \r\n  // Review API methods\r\n  reviews: {\r\n    // Create a new review\r\n    create: (reviewData) => axiosInstance.post('/reviews', reviewData),\r\n    \r\n    // Get all reviews\r\n    getAll: () => axiosInstance.get('/reviews'),\r\n    \r\n    // Get reviews for a specific product\r\n    getByProduct: (productId) => axiosInstance.get(`/reviews/product/${productId}`),\r\n    \r\n    // Get unreviewed products for a user\r\n    getUnreviewed: (productId) => axiosInstance.get(`/reviews/unreviewed/${productId}`),\r\n    \r\n    // Update a review\r\n    update: (reviewId, reviewData) => axiosInstance.put(`/reviews/${reviewId}`, reviewData),\r\n    \r\n    // Delete a review\r\n    delete: (reviewId) => axiosInstance.delete(`/reviews/${reviewId}`),\r\n  },\r\n};\r\n\r\n// Utility functions cho các trường hợp đặc biệt\r\nexport const apiUtils = {\r\n  // Upload file\r\n  uploadFile: (url, file, onUploadProgress) => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    \r\n    return axiosInstance.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      onUploadProgress,\r\n    });\r\n  },\r\n  \r\n  // Download file\r\n  downloadFile: async (url, filename) => {\r\n    try {\r\n      const response = await axiosInstance.get(url, {\r\n        responseType: 'blob',\r\n      });\r\n      \r\n      const blob = new Blob([response.data]);\r\n      const downloadUrl = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = downloadUrl;\r\n      link.download = filename;\r\n      link.click();\r\n      window.URL.revokeObjectURL(downloadUrl);\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Create review\r\n  createReview: async (reviewData) => {\r\n    try {\r\n      const response = await axiosInstance.post('/reviews', reviewData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Create review failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Custom hooks cho React components\r\nexport const useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const request = async (apiCall) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await apiCall();\r\n      return response.data;\r\n    } catch (err) {\r\n      setError(err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return { request, loading, error };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/src/components/ResponsiveSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport axiosInstance from \"../../ultis/axios\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"Dashboard\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 22 21\">\n      <path d=\"M16.975 11H10V4.025a1 1 0 0 0-1.066-.998 8.5 8.5 0 1 0 9.039 9.039.999.999 0 0 0-1-1.066h.002Z\"/>\n      <path d=\"M12.5 0c-.157 0-.311.01-.565.027A1 1 0 0 0 11 1.02V10h8.975a1 1 0 0 0 1-.935c.013-.188.028-.374.028-.565A8.51 8.51 0 0 0 12.5 0Z\"/>\n    </svg>\n  )},\n  { href: \"/\", label: \"Dự án\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 18 18\">\n      <path d=\"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z\"/>\n    </svg>\n  )},\n  { href: \"/myprofile\", label: \"Users\", icon: (\n    <svg className=\"w-5 h-5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 18\">\n      <path d=\"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z\"/>\n    </svg>\n  )},\n];\n\nexport default function ResponsiveSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [open, setOpen] = useState(false);\n  const [me, setMe] = useState<{ full_name?: string; email?: string; avatar?: string } | null>(null);\n\n  useEffect(() => {\n    setOpen(false);\n  }, [pathname]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const token = typeof window !== 'undefined' ? (sessionStorage.getItem('token') || localStorage.getItem('token')) : null;\n        if (!token) return;\n        const res = await axiosInstance.get('/api/users/me');\n        setMe(res.data || null);\n      } catch {\n        // silently ignore\n      }\n    })();\n  }, []);\n\n  const onLogout = () => {\n    if (typeof window !== 'undefined') {\n      sessionStorage.removeItem('token');\n      localStorage.removeItem('token');\n    }\n    router.replace('/login');\n  };\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        aria-controls=\"default-sidebar\"\n        aria-expanded={open}\n        onClick={() => setOpen((v) => !v)}\n        className=\"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200\"\n      >\n        <span className=\"sr-only\">Open sidebar</span>\n        <svg className=\"w-6 h-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path clipRule=\"evenodd\" fillRule=\"evenodd\" d=\"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z\"></path>\n        </svg>\n      </button>\n\n      <aside\n        id=\"default-sidebar\"\n        className={`fixed top-0 left-0 z-40 w-64 h-screen transition-transform ${open ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0`}\n        aria-label=\"Sidebar\"\n      >\n        <div className=\"h-full px-3 py-4 overflow-y-auto bg-gray-50\">\n          {me ? (\n            <div className=\"mb-4 flex items-center gap-3 p-3 rounded-lg bg-white border\" style={{borderColor: 'var(--border)'}}>\n              <div className=\"h-10 w-10 rounded-full flex items-center justify-center overflow-hidden bg-gray-100\">\n                {me.avatar ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img src={me.avatar} alt=\"avatar\" className=\"h-full w-full object-cover\" />\n                ) : (\n                  <span className=\"text-sm font-semibold text-gray-600\">{(me.full_name?.[0] || me.email?.[0] || 'U').toUpperCase()}</span>\n                )}\n              </div>\n              <div className=\"truncate\">\n                <div className=\"text-sm font-medium truncate\">{me.full_name || 'User'}</div>\n                <div className=\"text-xs text-gray-500 truncate\">{me.email || ''}</div>\n              </div>\n            </div>\n          ) : null}\n\n          <ul className=\"space-y-2 font-medium\">\n            {navItems.map((item) => {\n              const active = pathname === item.href;\n              return (\n                <li key={`${item.href}-${item.label}`}>\n                  <Link\n                    href={item.href}\n                    className={`flex items-center p-2 rounded-lg hover:bg-gray-100 group ${active ? 'bg-gray-100 text-gray-900' : 'text-gray-900'}`}\n                  >\n                    <span className=\"text-gray-500 group-hover:text-gray-900\">{item.icon}</span>\n                    <span className=\"ms-3\">{item.label}</span>\n                  </Link>\n                </li>\n              );\n            })}\n            <li>\n              <button\n                onClick={onLogout}\n                className=\"w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-100 text-gray-900\"\n              >\n                <svg className=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 18 16\">\n                  <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3\"/>\n                </svg>\n                <span className=\"ms-3\">Đăng xuất</span>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </aside>\n    </>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 527, "column": 0}, "map": {"version":3,"sources":["file:///G:/SEP/frontend/softcapstone/src/app/projects/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport axiosInstance from \"../../../../ultis/axios\";\r\nimport { getSpanDays, getPeriodStart, getStartOfWeekUTC, stripTimeUTC, addDays } from \"../../../../softcapdir-helper\";\r\nimport ResponsiveSidebar from \"@/components/ResponsiveSidebar\";\r\n\r\ntype Milestone = {\r\n  _id: string;\r\n  title: string;\r\n  start_date?: string;\r\n  deadline?: string;\r\n  status?: string;\r\n  description?: string;\r\n  createdAt?: string;\r\n};\r\n\r\nexport default function ProjectDetailPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const projectId = Array.isArray(params?.id) ? params?.id[0] : (params?.id as string);\r\n  const [milestones, setMilestones] = useState<Milestone[] | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!projectId) return;\r\n    (async () => {\r\n      try {\r\n        const res = await axiosInstance.get(`/api/projects/${projectId}/milestones`);\r\n        console.log(res.data);\r\n        setMilestones(Array.isArray(res.data) ? res.data : []);\r\n      } catch (e: any) {\r\n        setError(e?.response?.data?.message || 'Không thể tải milestone');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [projectId]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[var(--background)]\">\r\n      <ResponsiveSidebar />\r\n      <main className=\"p-4 md:p-6 md:ml-64\">\r\n        <div className=\"mx-auto w-full max-w-6xl\">\r\n          <div className=\"mb-6 md:mb-8 flex items-center justify-between\">\r\n            <h1 className=\"text-2xl md:text-3xl font-semibold tracking-tight\" style={{color:'var(--primary)'}}>Milestones</h1>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={() => router.push(`/projects/${projectId}/milestones/new`)} className=\"btn-primary rounded-lg px-4 py-2\">+ Thêm Milestone</button>\r\n              <button onClick={() => router.back()} className=\"px-3 py-2 rounded-lg text-sm hover:bg-[var(--muted)]\" style={{border:'1px solid var(--border)'}}>Quay lại</button>\r\n            </div>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div>Đang tải...</div>\r\n          ) : error ? (\r\n            <div className=\"text-red-600\">{error}</div>\r\n          ) : (\r\n            <Timeline milestones={milestones || []} projectId={projectId} onLocalUpdate={setMilestones as any} />\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Timeline({ milestones, projectId, onLocalUpdate }: { milestones: Milestone[]; projectId: string; onLocalUpdate: any }) {\r\n  const [weekStart, setWeekStart] = useState<Date>(getStartOfWeekUTC(new Date()));\r\n  const [viewMode, setViewMode] = useState<'Days' | 'Weeks' | 'Months' | 'Quarters' | 'Years'>('Days');\r\n  const spanDays = getSpanDays(viewMode, weekStart);\r\n  const [autoFit, setAutoFit] = useState<boolean>(true);\r\n  if (!milestones || milestones.length === 0) {\r\n    return <div className=\"opacity-70\">Chưa có milestone nào.</div>;\r\n  }\r\n\r\n  const periodStart = getPeriodStart(viewMode, weekStart);\r\n  const days = Array.from({ length: spanDays }, (_, i) => new Date(periodStart.getTime() + i * 24 * 60 * 60 * 1000));\r\n  const monthName = periodStart.toLocaleDateString('vi-VN', { month: 'long', year: 'numeric' });\r\n  const today = stripTimeUTC(new Date());\r\n\r\n  const getX = (dateStr?: string) => {\r\n    if (!dateStr) return 0;\r\n    const d = new Date(dateStr);\r\n    const diff = Math.floor((stripTimeUTC(d).getTime() - stripTimeUTC(periodStart).getTime()) / (24 * 60 * 60 * 1000));\r\n    return Math.max(0, Math.min(spanDays - 1, diff));\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"flex items-end justify-between mb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"text-lg font-semibold\" style={{color:'var(--primary)'}}>{monthName.charAt(0).toUpperCase() + monthName.slice(1)}</div>\r\n          <div className=\"text-sm opacity-70\">{days[0].toLocaleDateString('vi-VN')} – {days[6].toLocaleDateString('vi-VN')}</div>\r\n        </div>\r\n        <div className=\"flex items-center gap-4 text-sm\">\r\n        <div className=\"flex items-center gap-2 mr-4\">\r\n            <button onClick={() => setWeekStart(addDays(periodStart, -spanDays))} className=\"px-2 py-1 rounded border\" style={{borderColor:'var(--border)'}}>◀</button>\r\n            <button onClick={() => setWeekStart(getStartOfWeekUTC(new Date()))} className=\"px-2 py-1 rounded border\" style={{borderColor:'var(--border)'}}>Hôm nay</button>\r\n            <button onClick={() => setWeekStart(addDays(periodStart, spanDays))} className=\"px-2 py-1 rounded border\" style={{borderColor:'var(--border)'}}>▶</button>\r\n            <select value={viewMode} onChange={(e) => setViewMode(e.target.value as any)} className=\"ml-2 px-2 py-1 rounded border text-sm\" style={{borderColor:'var(--border)'}}>\r\n              <option>Days</option>\r\n              <option>Weeks</option>\r\n              <option>Months</option>\r\n              <option>Quarters</option>\r\n              <option>Years</option>\r\n            </select>\r\n            <label className=\"ml-2 flex items-center gap-1 text-sm\">\r\n              <input type=\"checkbox\" checked={autoFit} onChange={(e)=>setAutoFit(e.target.checked)} /> Auto Fit\r\n            </label>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-amber-400 inline-block\" /> Working on it</div>\r\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-green-500 inline-block\" /> Done</div>\r\n          <div className=\"flex items-center gap-1\"><span className=\"h-3 w-3 rounded-full bg-red-500 inline-block\" /> Stuck</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"grid\" style={{gridTemplateColumns: `repeat(${spanDays}, minmax(0,1fr))`}}>\r\n        {days.map((d, i) => {\r\n          const isToday = stripTimeUTC(d).getTime() === stripTimeUTC(today).getTime();\r\n          const label = viewMode === 'Days' || viewMode === 'Weeks'\r\n            ? `${d.toLocaleDateString('en-US', { weekday: 'short' })} ${d.getDate()}`\r\n            : (d.getDate() === 1 ? d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) : `${d.getDate()}`);\r\n          return (\r\n            <div key={i} className=\"text-center font-medium text-xs md:text-sm mb-2 opacity-90\">\r\n              <span className={`${isToday ? 'bg-blue-600 text-white px-3 py-1 rounded-full' : ''}`}>{label}</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div className=\"relative border rounded-lg\" style={{borderColor:'var(--border)'}}>\r\n        {/* Weekend shading */}\r\n        <div className={`absolute inset-0 grid pointer-events-none`} style={{gridTemplateColumns: `repeat(${spanDays}, minmax(0, 1fr))`}}>\r\n          {days.map((_, i) => (\r\n            <div key={i} className={`${(i % 7 === 5 || i % 7 === 6) ? 'bg-gray-50' : ''}`} />\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"relative\" style={{display:'grid', gridTemplateColumns: `repeat(${spanDays}, minmax(0,1fr))`, height: autoFit ? `${Math.max(180, (milestones.length*44)+40)}px` : '260px'}}>\r\n          {days.map((d, i) => (\r\n            <div key={i} className=\"relative border-r last:border-r-0\" style={{borderColor:'var(--border)'}}>\r\n              <div className=\"absolute top-0 left-0 right-0 h-px bg-[var(--border)]\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Today line */}\r\n        <TodayLine startOfWeek={startOfWeek} today={today} />\r\n\r\n        <div className=\"absolute inset-0 space-y-2\">\r\n          {milestones.map((m) => {\r\n            const startCandidate = m.start_date || m.createdAt || m.deadline;\r\n            const endCandidate = m.deadline || m.start_date;\r\n            const start = getX(startCandidate);\r\n            const end = getX(endCandidate);\r\n            // Make deadline inclusive: if deadline is the 11th, span should cover that full day\r\n            const span = Math.max(1, end - start + 1);\r\n            const color = m.status === 'Completed' ? 'bg-gray-300 text-gray-800' : m.status === 'Overdue' ? 'bg-red-500 text-white' : 'bg-gray-300 text-gray-800';\r\n            const dateLabel = [m.start_date, m.deadline].filter(Boolean).map(d=>new Date(d as string).toLocaleDateString('vi-VN')).join(' → ');\r\n            return (\r\n              <div key={m._id} className=\"group relative flex items-center py-2\" style={{marginLeft: `calc(${start}/${spanDays}*100%)`, width: `calc(${span}/${spanDays}*100%)`}} title={`${m.title} (${dateLabel})`}>\r\n                <div className={`h-8 w-full rounded-md text-sm px-3 flex items-center justify-between gap-2 ${color}`} style={{overflow:'hidden'}}>\r\n                  <span className=\"truncate\">{m.title}</span>\r\n                </div>\r\n                {/* drag handle to extend to the right (increase deadline) */}\r\n                <button\r\n                  onClick={async (e) => {\r\n                    e.preventDefault();\r\n                    const currentEnd = new Date(endCandidate as string || new Date());\r\n                    const newEnd = new Date(currentEnd.getTime() + 24*60*60*1000); // +1 day\r\n                    try {\r\n                      await axiosInstance.patch(`/api/projects/${projectId}/milestones/${m._id}`, { deadline: newEnd.toISOString() });\r\n                      // Optimistic UI: update local state\r\n                      onLocalUpdate((prev: any[]) => (prev || []).map((x: any) => x._id === m._id ? { ...x, deadline: newEnd.toISOString() } : x));\r\n                    } catch {}\r\n                  }}\r\n                  className=\"absolute -right-2 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-gray-300 opacity-0 group-hover:opacity-100\"\r\n                  title=\"Kéo dài thêm 1 ngày\"\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TodayLine({ startOfWeek, today }: { startOfWeek: Date; today: Date }) {\r\n  const dayIdx = Math.max(0, Math.min(6, Math.floor((stripTimeUTC(today).getTime() - stripTimeUTC(startOfWeek).getTime()) / (24*60*60*1000))));\r\n  const left = `calc(${dayIdx}/7*100%)`;\r\n  const isThisWeek = today >= startOfWeek && today <= new Date(startOfWeek.getTime() + 6*24*60*60*1000);\r\n  if (!isThisWeek) return null;\r\n  return (\r\n    <div className=\"absolute inset-0 pointer-events-none\">\r\n      <div className=\"h-full border-l border-blue-500\" style={{marginLeft:left}} />\r\n      <div className=\"relative\" style={{marginLeft:left}}>\r\n        <span className=\"absolute -top-2 -ml-1 h-2 w-2 rounded-full bg-blue-500\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// helper functions are imported above\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}